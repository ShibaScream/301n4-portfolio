var blogController=function(){"use strict";var o={};return o.show=function(){blogData.fetchAll(blogView.initPage),$(".section-view").hide(),$("#projects").show()},o}();
var blogData=function(){"use strict";function t(t){this.title=t.title,this.language=t.language,this.category=t.category,this.author=t.author,this.authorUrl=t.authorUrl,this.publishedOn=t.publishedOn,this.body=t.body}return t.all=[],t.loadAll=function(a){this.all=a.sort(function(t,a){return new Date(a.publishedOn)-new Date(t.publishedOn)}).map(function(a){return new t(a)})},t.fetchAll=function(a){localStorage.articleData&&"undefined"!==localStorage.articleData?(this.loadAll(JSON.parse(localStorage.articleData)),a()):$.getJSON("../data/articleData.json",function(l){t.loadAll(l),localStorage.setItem("articleData",JSON.stringify(t.all)),a()}).fail(function(t,a){console.error("Blog failed to load. Error: ",a)})},t}();
var blogView=function(){"use strict";var e={templateScript:$("#portfolioTemplate").html(),theTemplate:null};return e.setTeasers=function(){$(".article-body *:nth-of-type(n+2)").hide();var e=$("#projects");e.on("click","a.read-on",function(e){e.preventDefault(),$(this).parent().find("*").fadeIn(),$(this).hide(),$(this).parent().find("a.read-less").show()}),e.on("click","a.read-less",function(e){e.preventDefault(),$(".article-body *:nth-of-type(n+2)").hide(),$(this).hide(),$(this).parent().find("a.read-on").show()})},e.toHTML=function(t){return t.daysAgo=parseInt((new Date-new Date(t.publishedOn))/60/60/24/1e3,10),t.publishStatus=t.publishedOn?"published "+t.daysAgo+" days ago":"(draft)",this.theTemplate=Handlebars.compile(e.templateScript),this.theTemplate(t)},e.initPage=function(t){var a=$("#projects");a.empty(),blogData.all.forEach(function(t){a.append(e.toHTML(t))}),e.setTeasers(),hljs.initHighlightingOnLoad()},e}();
var contactController=function(){"use strict";var t={};return t.show=function(){$(".section-view").hide(),$("#contact").show()},t}();
var indexController=function(){"use strict";var e={};return e.show=function(){$(".section-view").hide(),$("#home").show(),repos.requestRepos(reposView.index)},e}();
!function(){"use strict";var e={};e.toggleMobileMenu=function(){var e=$("#menu"),i=$("#mobilemenu");i.on("click",function(){e.find("ul").fadeToggle("fast")}),e.on("click",function(){"block"===i.css("display")&&e.find("ul").fadeToggle("fast")})},e.hideMobileMenu=function(){$("#menu").find("ul").fadeOut("fast")},e.checkSize=function(){"block"===$("#mobilemenu").css("display")?$("main").on("click",e.hideMobileMenu):$("main").off("click",e.hideMobileMenu)},$(document).ready(function(){e.toggleMobileMenu(),e.checkSize(),$(window).resize(_.debounce(e.checkSize,500))})}();
var repos=function(){"use strict";var e={};return e.all=[],e.requestRepos=function(r){$.ajax({url:"/github/users/ShibaScream/repos?per_page=100&sort=updated",type:"GET",success:function(r,t,u){e.all=r}}).done(r)},e.with=function(r){return e.all.filter(function(e){return e[r]})},e}();
var reposView=function(){"use strict";var e={},t=Handlebars.compile($("#repo-template").html());return e.index=function(){var e=$("#github");e.empty(),e.append(repos.with("name").map(t))},e}();
var resumeController=function(){"use strict";var e={};return e.show=function(){resumeData.fetchAll(resumeView.initPage),$(".section-view").hide(),$("#resume").show()},e}();
var resumeData=function(){"use strict";function t(t){this.title=t.title,this.company=t.company,this.companyURL=t.companyURL,this.companyLogo=t.companyLogo,this.dateFrom=t.dateFrom,this.dateTo=t.dateTo,this.description=t.description}return t.all=[],t.loadAll=function(a){this.all=a.sort(function(t,a){return new Date(a.dateFrom)-new Date(t.dateFrom)}).map(function(a){return new t(a)})},t.fetchAll=function(a){localStorage.resumeData&&"undefined"!==localStorage.resumeData?(this.loadAll(JSON.parse(localStorage.resumeData)),a()):$.getJSON("../data/resumeData.json",function(e){t.loadAll(e),localStorage.setItem("resumeData",JSON.stringify(t.all)),a()}).fail(function(t,a,e){console.error("Resume failed to load. Error: ",a)})},t}();
var resumeView=function(){"use strict";var e={templateScript:$("#resumeTemplate").html(),theTemplate:null};return e.toHTML=function(t){return this.theTemplate=Handlebars.compile(e.templateScript),this.theTemplate(t)},e.initPage=function(){var t=$("#resume");t.empty(),resumeData.all.forEach(function(a){t.append(e.toHTML(a))})},e}();
page("/",indexController.show),page("/projects",blogController.show),page("/resume",resumeController.show),page("/contact",contactController.show),page("*",function(){console.error("This should be a 404 Error Page")}),page();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2dDb250cm9sbGVyLmpzIiwiYmxvZ0RhdGEuanMiLCJibG9nVmlldy5qcyIsImNvbnRhY3RDb250cm9sbGVyLmpzIiwiaW5kZXhDb250cm9sbGVyLmpzIiwibWVudUhhbmRsZXIuanMiLCJyZXBvcy5qcyIsInJlcG9zVmlldy5qcyIsInJlc3VtZUNvbnRyb2xsZXIuanMiLCJyZXN1bWVEYXRhLmpzIiwicmVzdW1lVmlldy5qcyIsInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJibG9nQ29udHJvbGxlciIsImNvbnRyb2xsZXIiLCJzaG93IiwiYmxvZ0RhdGEiLCJmZXRjaEFsbCIsImJsb2dWaWV3IiwiaW5pdFBhZ2UiLCIkIiwiaGlkZSIsIkFydGljbGUiLCJvcHRzIiwidGhpcyIsInRpdGxlIiwibGFuZ3VhZ2UiLCJjYXRlZ29yeSIsImF1dGhvciIsImF1dGhvclVybCIsInB1Ymxpc2hlZE9uIiwiYm9keSIsImFsbCIsImxvYWRBbGwiLCJkYXRhIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsIm1hcCIsImFydGljbGUiLCJjYWxsYmFjayIsImxvY2FsU3RvcmFnZSIsImFydGljbGVEYXRhIiwiSlNPTiIsInBhcnNlIiwiZ2V0SlNPTiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJmYWlsIiwieCIsInRleHRTdGF0dXMiLCJjb25zb2xlIiwiZXJyb3IiLCJ2aWV3IiwidGVtcGxhdGVTY3JpcHQiLCJodG1sIiwidGhlVGVtcGxhdGUiLCJzZXRUZWFzZXJzIiwiJHByb2plY3RzIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJwYXJlbnQiLCJmaW5kIiwiZmFkZUluIiwidG9IVE1MIiwiZGF5c0FnbyIsInBhcnNlSW50IiwicHVibGlzaFN0YXR1cyIsIkhhbmRsZWJhcnMiLCJjb21waWxlIiwiY3R4IiwiZW1wdHkiLCJmb3JFYWNoIiwiYXBwZW5kIiwiaGxqcyIsImluaXRIaWdobGlnaHRpbmdPbkxvYWQiLCJjb250YWN0Q29udHJvbGxlciIsImluZGV4Q29udHJvbGxlciIsInJlcG9zIiwicmVxdWVzdFJlcG9zIiwicmVwb3NWaWV3IiwiaW5kZXgiLCJtZW51VmlldyIsInRvZ2dsZU1vYmlsZU1lbnUiLCIkbWVudSIsIiRtb2JpbGVtZW51IiwiZmFkZVRvZ2dsZSIsImNzcyIsImhpZGVNb2JpbGVNZW51IiwiZmFkZU91dCIsImNoZWNrU2l6ZSIsIm9mZiIsImRvY3VtZW50IiwicmVhZHkiLCJ3aW5kb3ciLCJyZXNpemUiLCJfIiwiZGVib3VuY2UiLCJhamF4IiwidXJsIiwidHlwZSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwieGhyIiwiZG9uZSIsIndpdGgiLCJhdHRyIiwiZmlsdGVyIiwicmVwbyIsInJlcG9WaWV3IiwicmVuZGVyIiwiJGdpdGh1YiIsInJlc3VtZUNvbnRyb2xsZXIiLCJyZXN1bWVEYXRhIiwicmVzdW1lVmlldyIsIkpvYiIsImNvbXBhbnkiLCJjb21wYW55VVJMIiwiY29tcGFueUxvZ28iLCJkYXRlRnJvbSIsImRhdGVUbyIsImRlc2NyaXB0aW9uIiwiaXRlbSIsInkiLCJqb2IiLCIkcmVzdW1lIiwicGFnZSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsZ0JBQWtCLFdBQ3BCLFlBRUEsSUFBSUMsS0FRSixPQU5BQSxHQUFXQyxLQUFPLFdBQ2hCQyxTQUFTQyxTQUFTQyxTQUFTQyxVQUMzQkMsRUFBRSxpQkFBaUJDLE9BQ25CRCxFQUFFLGFBQWFMLFFBR1ZEO0FDWFQsR0FBSUUsVUFBWSxXQUNkLFlBR0EsU0FBU00sR0FBUUMsR0FDZkMsS0FBS0MsTUFBUUYsRUFBS0UsTUFDbEJELEtBQUtFLFNBQVdILEVBQUtHLFNBQ3JCRixLQUFLRyxTQUFXSixFQUFLSSxTQUNyQkgsS0FBS0ksT0FBU0wsRUFBS0ssT0FDbkJKLEtBQUtLLFVBQVlOLEVBQUtNLFVBQ3RCTCxLQUFLTSxZQUFjUCxFQUFLTyxZQUN4Qk4sS0FBS08sS0FBT1IsRUFBS1EsS0F1Q25CLE1BbkNBVCxHQUFRVSxPQUVSVixFQUFRVyxRQUFVLFNBQVVDLEdBRTFCVixLQUFLUSxJQUFNRSxF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aUJBQWlCbkcsTUFDakNpSCxLQUFLLFdBQVlsRCxrQkFBa0IvRCxNQUduQ2lILEtBQUssSUFBSyxXQUNSNUUsUUFBUUMsTUFBTSxxQ0FHaEIyRSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJsb2dDb250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb250cm9sbGVyID0ge307XG5cbiAgY29udHJvbGxlci5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGJsb2dEYXRhLmZldGNoQWxsKGJsb2dWaWV3LmluaXRQYWdlKTtcbiAgICAkKCcuc2VjdGlvbi12aWV3JykuaGlkZSgpO1xuICAgICQoJyNwcm9qZWN0cycpLnNob3coKTtcbiAgfTtcblxuICByZXR1cm4gY29udHJvbGxlcjtcblxufSgpKTtcbiIsInZhciBibG9nRGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBcnRpY2xlIGNvbnN0cnVjdG9yIC0gZm9yIGxvYWRpbmcgSlNPTiBkYXRhIGludG8gYXJ0aWNsZSBvYmplY3RzXG4gIGZ1bmN0aW9uIEFydGljbGUob3B0cykge1xuICAgIHRoaXMudGl0bGUgPSBvcHRzLnRpdGxlO1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBvcHRzLmxhbmd1YWdlO1xuICAgIHRoaXMuY2F0ZWdvcnkgPSBvcHRzLmNhdGVnb3J5O1xuICAgIHRoaXMuYXV0aG9yID0gb3B0cy5hdXRob3I7XG4gICAgdGhpcy5hdXRob3JVcmwgPSBvcHRzLmF1dGhvclVybDtcbiAgICB0aGlzLnB1Ymxpc2hlZE9uID0gb3B0cy5wdWJsaXNoZWRPbjtcbiAgICB0aGlzLmJvZHkgPSBvcHRzLmJvZHk7XG4gIH1cblxuICAvLyBtb3ZpbmcgdGhlIGFydGljbGVzIHZhcmlhYmxlIG91dCBvZiB0aGUgZ2xvYmFsIG5hbWVzcGFjZVxuICBBcnRpY2xlLmFsbCA9IFtdO1xuXG4gIEFydGljbGUubG9hZEFsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICB0aGlzLmFsbCA9IGRhdGFcbiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoYi5wdWJsaXNoZWRPbikpIC0gKG5ldyBEYXRlKGEucHVibGlzaGVkT24pKTtcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uIChhcnRpY2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJ0aWNsZShhcnRpY2xlKTtcbiAgICAgIH0pO1xuXG4gIH07XG5cbiAgQXJ0aWNsZS5mZXRjaEFsbCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5hcnRpY2xlRGF0YSAmJiBsb2NhbFN0b3JhZ2UuYXJ0aWNsZURhdGEgIT09ICd1bmRlZmluZWQnKSB7XG5cbiAgICAgIHRoaXMubG9hZEFsbChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5hcnRpY2xlRGF0YSkpO1xuICAgICAgY2FsbGJhY2soKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICQuZ2V0SlNPTignLi4vZGF0YS9hcnRpY2xlRGF0YS5qc29uJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgQXJ0aWNsZS5sb2FkQWxsKGRhdGEpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXJ0aWNsZURhdGEnLCBKU09OLnN0cmluZ2lmeShBcnRpY2xlLmFsbCkpO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSkuZmFpbChmdW5jdGlvbiAoeCwgdGV4dFN0YXR1cykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdCbG9nIGZhaWxlZCB0byBsb2FkLiBFcnJvcjogJywgdGV4dFN0YXR1cyk7XG4gICAgICB9KTtcblxuICAgIH1cblxuICB9O1xuICAvLyBhdHRhY2hpbmcgdG8gRE9NXG4gIHJldHVybiBBcnRpY2xlO1xuXG59KCkpO1xuIiwidmFyIGJsb2dWaWV3ID0gKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB2aWV3ID0ge1xuICAgIHRlbXBsYXRlU2NyaXB0OiAkKCcjcG9ydGZvbGlvVGVtcGxhdGUnKS5odG1sKCksXG4gICAgdGhlVGVtcGxhdGU6IG51bGxcbiAgfTtcblxuICB2aWV3LnNldFRlYXNlcnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBIaWRlIGVsZW1lbnRzIGJleW9uZCB0aGUgZmlyc3QgMiBpbiBhbnkgYXJ0aWNsZSBib2R5LlxuICAgICQoJy5hcnRpY2xlLWJvZHkgKjpudGgtb2YtdHlwZShuKzIpJykuaGlkZSgpO1xuXG4gICAgdmFyICRwcm9qZWN0cyA9ICQoJyNwcm9qZWN0cycpO1xuXG4gICAgJHByb2plY3RzLm9uKCdjbGljaycsICdhLnJlYWQtb24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcqJykuZmFkZUluKCk7XG4gICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICQodGhpcykucGFyZW50KCkuZmluZCgnYS5yZWFkLWxlc3MnKS5zaG93KCk7XG4gICAgfSk7XG5cbiAgICAkcHJvamVjdHMub24oJ2NsaWNrJywgJ2EucmVhZC1sZXNzJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJy5hcnRpY2xlLWJvZHkgKjpudGgtb2YtdHlwZShuKzIpJykuaGlkZSgpO1xuICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2EucmVhZC1vbicpLnNob3coKTtcbiAgICB9KTtcblxuICB9O1xuXG4gIHZpZXcudG9IVE1MID0gZnVuY3Rpb24gKGFydGljbGUpIHtcblxuICAgIC8vIHdoZXJlIHNob3VsZCB0aGlzIGxvZ2ljIGV4aXN0cz8gU2VlbXMgaW5jb3JyZWN0IHRvIGhhdmUgaXQgaW4gdmlld1xuICAgIGFydGljbGUuZGF5c0FnbyA9IHBhcnNlSW50KChuZXcgRGF0ZSgpIC0gbmV3IERhdGUoYXJ0aWNsZS5wdWJsaXNoZWRPbikpIC8gNjAgLyA2MCAvIDI0IC8gMTAwMCwgMTApO1xuICAgIGFydGljbGUucHVibGlzaFN0YXR1cyA9IGFydGljbGUucHVibGlzaGVkT24gPyAncHVibGlzaGVkICcgKyBhcnRpY2xlLmRheXNBZ28gKyAnIGRheXMgYWdvJyA6ICcoZHJhZnQpJztcblxuICAgIHRoaXMudGhlVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUodmlldy50ZW1wbGF0ZVNjcmlwdCk7XG5cbiAgICByZXR1cm4gdGhpcy50aGVUZW1wbGF0ZShhcnRpY2xlKTtcblxuICB9O1xuXG5cbiAgdmlldy5pbml0UGFnZSA9IGZ1bmN0aW9uIChjdHgpIHtcblxuICAgIHZhciAkcHJvamVjdHMgPSAkKCcjcHJvamVjdHMnKTtcblxuICAgICRwcm9qZWN0cy5lbXB0eSgpO1xuXG4gICAgYmxvZ0RhdGEuYWxsLmZvckVhY2goZnVuY3Rpb24gKGFydGljbGUpIHtcbiAgICAgICRwcm9qZWN0cy5hcHBlbmQodmlldy50b0hUTUwoYXJ0aWNsZSkpO1xuICAgIH0pO1xuXG4gICAgdmlldy5zZXRUZWFzZXJzKCk7XG5cbiAgICBobGpzLmluaXRIaWdobGlnaHRpbmdPbkxvYWQoKTtcblxuICB9O1xuXG4gIHJldHVybiB2aWV3O1xuXG59KCkpO1xuIiwidmFyIGNvbnRhY3RDb250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb250cm9sbGVyID0ge307XG5cbiAgY29udHJvbGxlci5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy5zZWN0aW9uLXZpZXcnKS5oaWRlKCk7XG4gICAgJCgnI2NvbnRhY3QnKS5zaG93KCk7XG4gIH07XG5cbiAgcmV0dXJuIGNvbnRyb2xsZXI7XG5cbn0oKSk7XG4iLCJ2YXIgaW5kZXhDb250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb250cm9sbGVyID0ge307XG5cbiAgY29udHJvbGxlci5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy5zZWN0aW9uLXZpZXcnKS5oaWRlKCk7XG4gICAgJCgnI2hvbWUnKS5zaG93KCk7XG4gICAgcmVwb3MucmVxdWVzdFJlcG9zKHJlcG9zVmlldy5pbmRleCk7XG4gIH07XG5cbiAgcmV0dXJuIGNvbnRyb2xsZXI7XG5cbn0oKSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG1lbnVWaWV3ID0ge307XG5cbiAgbWVudVZpZXcudG9nZ2xlTW9iaWxlTWVudSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkbWVudSA9ICQoJyNtZW51Jyk7XG4gICAgdmFyICRtb2JpbGVtZW51ID0gJCgnI21vYmlsZW1lbnUnKTtcblxuICAgICRtb2JpbGVtZW51Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICRtZW51LmZpbmQoJ3VsJykuZmFkZVRvZ2dsZSgnZmFzdCcpO1xuICAgIH0pO1xuXG4gICAgJG1lbnUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCRtb2JpbGVtZW51LmNzcygnZGlzcGxheScpID09PSAnYmxvY2snKSB7XG4gICAgICAgICRtZW51LmZpbmQoJ3VsJykuZmFkZVRvZ2dsZSgnZmFzdCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIG1lbnVWaWV3LmhpZGVNb2JpbGVNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICQoJyNtZW51JykuZmluZCgndWwnKS5mYWRlT3V0KCdmYXN0Jyk7XG4gIH07XG5cbiAgLyoqKipcbiAgICBjcmVkaXQgdG8gaHR0cHM6Ly93d3cuZm91cmZyb250LnVzL2Jsb2cvanF1ZXJ5LXdpbmRvdy13aWR0aC1hbmQtbWVkaWEtcXVlcmllc1xuICAgIGZvdW5kIHdheSB0byBjaGVjayBpZiBpbiBtb2JpbGUgdmVyc2lvbiBvZiBzaXRlXG4gICAgb25seSB0aGVuLCBhdHRhY2ggZXZlbnQgbGlzdGVuZXIgdG8gbWFpbiBzbyBpZiBhIHVzZXIgY2xpY2tzIGl0IGhpZGVzIG1lbnVcbiAgICBjb25zaWRlciBhZGRpbmcgdW5kZXJzY29yZS5qcyBsaWJyYXJ5IGFuZCBfX2RlYm91bmNlIG1ldGhvZCB0byBob2xkIG9mZiBvbiBmaXJpbmdcbiAgICBmdW5jdGlvbiB1bnRpbCByZXNpemUgaXMgY29tcGxldGVkXG4gICoqKioqL1xuICBtZW51Vmlldy5jaGVja1NpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQoJyNtb2JpbGVtZW51JykuY3NzKCdkaXNwbGF5JykgPT09ICdibG9jaycpIHtcbiAgICAgICQoJ21haW4nKS5vbignY2xpY2snLCBtZW51Vmlldy5oaWRlTW9iaWxlTWVudSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJ21haW4nKS5vZmYoJ2NsaWNrJywgbWVudVZpZXcuaGlkZU1vYmlsZU1lbnUpO1xuICAgIH1cbiAgfTtcblxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgbWVudVZpZXcudG9nZ2xlTW9iaWxlTWVudSgpO1xuICAgIC8vIGZpcmUgdGhlIGZpcnN0IHRpbWVcbiAgICBtZW51Vmlldy5jaGVja1NpemUoKTtcbiAgICAvLyBjaGVjayBhZ2FpbiBvbiByZXNpemUsIHVzaW5nIGRlYm91bmNlIHRvIGF2b2lkIG11bHRpcGxlIGZpcmluZ3NcbiAgICAkKHdpbmRvdykucmVzaXplKF8uZGVib3VuY2UobWVudVZpZXcuY2hlY2tTaXplLCA1MDApKTtcbiAgfSk7XG5cbn0oKSk7XG4iLCJ2YXIgcmVwb3MgPSAoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcmVwb3MgPSB7fTtcblxuICByZXBvcy5hbGwgPSBbXTtcblxuICByZXBvcy5yZXF1ZXN0UmVwb3MgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcvZ2l0aHViL3VzZXJzL1NoaWJhU2NyZWFtL3JlcG9zP3Blcl9wYWdlPTEwMCZzb3J0PXVwZGF0ZWQnLFxuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCBtZXNzYWdlLCB4aHIpIHtcbiAgICAgICAgcmVwb3MuYWxsID0gZGF0YTtcbiAgICAgIH1cbiAgICB9KS5kb25lKGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXBvcy53aXRoID0gZnVuY3Rpb24oYXR0cikge1xuICAgIHJldHVybiByZXBvcy5hbGwuZmlsdGVyKGZ1bmN0aW9uKHJlcG8pIHtcbiAgICAgIHJldHVybiByZXBvW2F0dHJdO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiByZXBvcztcbn0pKCk7XG4iLCJ2YXIgcmVwb3NWaWV3ID0gKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlcG9WaWV3ID0ge307XG5cbiAgdmFyIHJlbmRlciA9IEhhbmRsZWJhcnMuY29tcGlsZSgkKCcjcmVwby10ZW1wbGF0ZScpLmh0bWwoKSk7XG5cbiAgcmVwb1ZpZXcuaW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgJGdpdGh1YiA9ICQoJyNnaXRodWInKTtcblxuICAgICRnaXRodWIuZW1wdHkoKTtcblxuICAgICRnaXRodWIuYXBwZW5kKFxuICAgICAgcmVwb3Mud2l0aCgnbmFtZScpLm1hcChyZW5kZXIpXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gcmVwb1ZpZXc7XG59KSgpO1xuIiwidmFyIHJlc3VtZUNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGNvbnRyb2xsZXIgPSB7fTtcblxuICBjb250cm9sbGVyLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmVzdW1lRGF0YS5mZXRjaEFsbChyZXN1bWVWaWV3LmluaXRQYWdlKTtcbiAgICAkKCcuc2VjdGlvbi12aWV3JykuaGlkZSgpO1xuICAgICQoJyNyZXN1bWUnKS5zaG93KCk7XG4gIH07XG5cbiAgcmV0dXJuIGNvbnRyb2xsZXI7XG5cbn0oKSk7XG4iLCJ2YXIgcmVzdW1lRGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgLy8gVE8gRE86IGNyZWF0ZSBBSkFYIGNhbGxcblxuICBmdW5jdGlvbiBKb2Iob3B0cykge1xuICAgIHRoaXMudGl0bGUgPSBvcHRzLnRpdGxlO1xuICAgIHRoaXMuY29tcGFueSA9IG9wdHMuY29tcGFueTtcbiAgICB0aGlzLmNvbXBhbnlVUkwgPSBvcHRzLmNvbXBhbnlVUkw7XG4gICAgdGhpcy5jb21wYW55TG9nbyA9IG9wdHMuY29tcGFueUxvZ287XG4gICAgdGhpcy5kYXRlRnJvbSA9IG9wdHMuZGF0ZUZyb207XG4gICAgdGhpcy5kYXRlVG8gPSBvcHRzLmRhdGVUbztcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gb3B0cy5kZXNjcmlwdGlvbjtcbiAgfVxuXG4gIEpvYi5hbGwgPSBbXTtcblxuICBKb2IubG9hZEFsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICB0aGlzLmFsbCA9IGRhdGFcbiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoYi5kYXRlRnJvbSkpIC0gKG5ldyBEYXRlKGEuZGF0ZUZyb20pKTtcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBuZXcgSm9iKGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgfTtcblxuICBKb2IuZmV0Y2hBbGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblxuICAgIGlmIChsb2NhbFN0b3JhZ2UucmVzdW1lRGF0YSAmJiBsb2NhbFN0b3JhZ2UucmVzdW1lRGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgICAgdGhpcy5sb2FkQWxsKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnJlc3VtZURhdGEpKTtcbiAgICAgIGNhbGxiYWNrKCk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAkLmdldEpTT04oJy4uL2RhdGEvcmVzdW1lRGF0YS5qc29uJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgSm9iLmxvYWRBbGwoZGF0YSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZXN1bWVEYXRhJywgSlNPTi5zdHJpbmdpZnkoSm9iLmFsbCkpO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSkuZmFpbChmdW5jdGlvbiAoeCwgdGV4dFN0YXR1cywgeSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXN1bWUgZmFpbGVkIHRvIGxvYWQuIEVycm9yOiAnLCB0ZXh0U3RhdHVzKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gIH07XG5cbiAgcmV0dXJuIEpvYjtcbn0oKSk7XG4iLCJ2YXIgcmVzdW1lVmlldyA9IChmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgdmlldyA9IHtcbiAgICB0ZW1wbGF0ZVNjcmlwdDogJCgnI3Jlc3VtZVRlbXBsYXRlJykuaHRtbCgpLFxuICAgIHRoZVRlbXBsYXRlOiBudWxsXG4gIH07XG5cbiAgdmlldy50b0hUTUwgPSBmdW5jdGlvbiAoam9iKSB7XG5cbiAgICB0aGlzLnRoZVRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKHZpZXcudGVtcGxhdGVTY3JpcHQpO1xuXG4gICAgcmV0dXJuIHRoaXMudGhlVGVtcGxhdGUoam9iKTtcblxuICB9O1xuXG4gIHZpZXcuaW5pdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgJHJlc3VtZSA9ICQoJyNyZXN1bWUnKTtcblxuICAgICRyZXN1bWUuZW1wdHkoKTtcblxuICAgIHJlc3VtZURhdGEuYWxsLmZvckVhY2goZnVuY3Rpb24gKGpvYikge1xuICAgICAgJHJlc3VtZS5hcHBlbmQodmlldy50b0hUTUwoam9iKSk7XG4gICAgfSk7XG5cbiAgfTtcblxuICByZXR1cm4gdmlldztcblxufSgpKTtcbiIsInBhZ2UoJy8nLCBpbmRleENvbnRyb2xsZXIuc2hvdyk7XG5wYWdlKCcvcHJvamVjdHMnLCBibG9nQ29udHJvbGxlci5zaG93KTtcbnBhZ2UoJy9yZXN1bWUnLCByZXN1bWVDb250cm9sbGVyLnNob3cpO1xucGFnZSgnL2NvbnRhY3QnLCBjb250YWN0Q29udHJvbGxlci5zaG93KTtcblxuLy8gVE8gRE86IEFkZCBhbiBhY3R1YWwgZXJyb3IgcGFnZVxucGFnZSgnKicsIGZ1bmN0aW9uICgpIHtcbiAgY29uc29sZS5lcnJvcignVGhpcyBzaG91bGQgYmUgYSA0MDQgRXJyb3IgUGFnZScpO1xufSk7XG5cbnBhZ2UoKTtcbiJdfQ==
